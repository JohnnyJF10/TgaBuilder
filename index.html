<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="P2WkutHNyjf_pJ2zK8n0XdmGVwwaJBPMVEqMFEaD4Uw" />

  <!-- Begin Jekyll SEO tag v2.8.0 -->
  <title>TgaBuilder | Texture Panel Building tool for TRLE</title>
  <meta name="generator" content="Jekyll v3.10.0" />
  <meta property="og:title" content="TgaBuilder" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="Texture Panel Building tool for TRLE" />
  <meta property="og:description" content="Texture Panel Building tool for TRLE" />
  <link rel="canonical" href="https://johnnyjf10.github.io/TgaBuilder/" />
  <meta property="og:url" content="https://johnnyjf10.github.io/TgaBuilder/" />
  <meta property="og:site_name" content="TgaBuilder" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="TgaBuilder" />
  <script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","description":"Texture Panel Building tool for TRLE","headline":"TgaBuilder","name":"TgaBuilder","url":"https://johnnyjf10.github.io/TgaBuilder/"}</script>
  <!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/TgaBuilder/assets/css/style.css?v=62d446cf98639e34aca1071c165379c0e68d5a0b">
  <link rel="stylesheet" href="/TgaBuilder/assets/css/custom.css">
  <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

  <!-- Setup Google Analytics -->



  <!-- You can set your favicon here -->
  <!-- link rel="shortcut icon" type="image/x-icon" href="/TgaBuilder/favicon.ico" -->

  <!-- end custom head snippets -->

</head>

<body>

  <nav id="sidebar" class="sidebar">
    <h2>Content</h2>
    <ul id="toc"></ul>
  </nav>

  <!-- Hamburger menu for mobile -->
  <div class="mobile-header">
    <button id="menu-toggle">&#9776;</button>
    <div id="mobile-menu" class="mobile-menu hidden">

    </div>
  </div>

  <div id="main-content" class="container-lg px-3 my-5 markdown-body">


    <h1 id="tgabuilder">TgaBuilder</h1>
    <h3 id="texture-panel-building-tool-for-trle"><strong>Texture Panel Building Tool for TRLE</strong></h3>
    <p>
      <a href="https://github.com/JohnnyJF10/TgaBuilder/releases" target="_blank">Latest Releases</a> |
      <a href="https://github.com/JohnnyJF10/TgaBuilder" target="_blank">Github Repository</a>
    </p>
    <p><img src="/TgaBuilder/Screenshots/TgaBuilder_logo.png" alt="Logo" /></p>

    <h2 id="description">Description</h2>
    <p><img src="/TgaBuilder/Screenshots/Overview.png" alt="Overview" /></p>
    <p>TgaBuilder is a Texture Panel Building tool for TRLE, which is intended to facilitate the process of texture
      panel creation. The tool is inspired by TBuilder by IceBerg but programmed from scratch in .net 8, C# WPF by me.
    </p>

    <p>If you have already worked with TBuilder in the past, you should get familiar with TgaBuilder very quickly. It
      should cover most of the features TBuilder also has and introduces a few things more, most prominently:</p>
    <ul>
      <li>Texture Panel Panning and Zooming</li>
      <li>Undo / Redo</li>
      <li>Window Resizable</li>
      <li>Extended dimensioning with panel hights up to 128 pages, panel widths up to 16 pages</li>
      <li>Better support for 128x128 or 256x256 pix texture sets</li>
      <li>Batch Loader to create texture panels from multiple single texture files at once</li>
      <li>Imported texture repacking to remove TE compiled atlas padding</li>
      <li>and others…</li>
    </ul>

    <h2 id="installation">Installation</h2>
    <p>Download the latest release from <a href="https://github.com/JohnnyJF10/TgaBuilder/releases">GitHub Releases</a>
      and extract the files.</p>

    <h3 id="requirements">Requirements</h3>
    <ul>
      <li>Windows 10/11</li>
      <li>.net 8 runtime installed</li>
    </ul>

    <p>Please note that, as a .net WPF tool, TgaBuilder has significantly higher system resource requirements,
      particularly for RAM, than TBuilder, which was written in Delphi. If you are still satisfied using TBuilder,
      please continue using it. TgaBuilder is not intended as a substitute for it.</p>

    <h2 id="usage">Usage</h2>

    <h3 id="title-bar">Title Bar</h3>

    <p><img src="/TgaBuilder/Screenshots/TitleBar.png" alt="TitleBar" /></p>

    <h4 id="source-loading">Source Loading</h4>

    <ul>
      <li>Open image files as source texture panel<br />
        <em>Supported formats:</em> <strong>TGA, DDS, PNG, BMP, JPG, JPEG, PSD</strong> (<code
          class="language-plaintext highlighter-rouge">Ctrl + E</code>)
        <ul>
          <li>… or simply <strong>drop</strong> a supported image file on source panel.</li>
        </ul>
      </li>
      <li>Reopen recently used source image files</li>
      <li>Reload the current file in case of changes to load settings (Import Tab) or file changes</li>
      <li>Open previous file in current folder</li>
      <li>Open next file in current folder</li>

    </ul>

    <h4 id="undo--redo">Undo / Redo</h4>

    <ul>
      <li>Undo: <code class="language-plaintext highlighter-rouge">Ctrl + Z</code></li>
      <li>Redo: <code class="language-plaintext highlighter-rouge">Ctrl + Y</code></li>
    </ul>

    <h4 id="destination-loading--saving">Destination Loading / Saving</h4>

    <ul>
      <li>Create a new texture panel: <code class="language-plaintext highlighter-rouge">Ctrl + N</code></li>
      <li>Open image files as destination texture panel<br />
        <em>Supported formats:</em> <strong>TGA, DDS, PNG, BMP, JPG, JPEG, PSD</strong> (<code
          class="language-plaintext highlighter-rouge">Ctrl + D</code>)
        <ul>
          <li>… or simply <strong>drop</strong> a supported image file on destination panel.</li>
        </ul>
      </li>
      <li>Reopen recently used destination image files</li>
      <li>Save the destination texture<br />
        <em>Supported formats:</em> <strong>TGA, DDS, PNG, BMP, JPG, JPEG</strong> (<code
          class="language-plaintext highlighter-rouge">Ctrl + S</code>)
      </li>
      <li>Save to a specified file<br />
        <em>Formats:</em> <strong>TGA, DDS, PNG, BMP, JPG, JPEG</strong> (<code
          class="language-plaintext highlighter-rouge">Ctrl + Shift + S</code>)
      </li>
    </ul>

    <h3 id="source-panel-left">Source Panel (Left)</h3>

    <ul>
      <li><strong>Left click</strong> a tile: copy into selection</li>
      <li><strong>Left click + drag</strong>: copy area into selection</li>
      <li><strong>Right click</strong> a tile: preview UV rotate (river rotate)</li>
      <li><strong>Right click + drag</strong>: preview range-based animation of <code
          class="language-plaintext highlighter-rouge">AnimRange</code></li>
      <li><strong>Left click + Alt + drag</strong>: copy ignoring grid</li>
      <li><strong>Left click + Ctrl + drag</strong>: move panel</li>
      <li><strong>Mouse wheel</strong>: scroll vertically</li>
      <li><strong>Mouse wheel + Ctrl</strong>: zoom in/out</li>
    </ul>

    <h3 id="destination-panel-rigth">Destination Panel (Rigth)</h3>

    <h4 id="picking-mode">Picking Mode</h4>

    <ul>
      <li><strong>Left click</strong>: copy into selection or apply transformation</li>
      <li><strong>Left click + drag</strong>: copy area into selection</li>
      <li><strong>Right click</strong>: preview UV rotate</li>
      <li><strong>Right click + drag</strong>: preview animation range</li>
    </ul>

    <h4 id="placing-mode">Placing Mode</h4>

    <ul>
      <li><strong>Left click</strong>: place selected tile and return to picking</li>
      <li><strong>Right click</strong>: return to picking without placing</li>
    </ul>

    <h4 id="general-controls">General Controls</h4>

    <ul>
      <li><strong>Left click + Ctrl + drag</strong>: move panel</li>
      <li><strong>Mouse wheel</strong>: scroll vertically</li>
      <li><strong>Mouse wheel + Ctrl</strong>: zoom</li>
    </ul>

    <h3 id="selection-area">Selection Area</h3>

    <p><img src="/TgaBuilder/Screenshots/Selection.png" alt="SelectionArea" /></p>
    <ul>
      <li>Fill selection with chosen color</li>
      <li>Copy selection to clipboard (<code class="language-plaintext highlighter-rouge">Ctrl + C</code>)</li>
      <li>Paste clipboard into selection (<code class="language-plaintext highlighter-rouge">Ctrl + V</code>)</li>
      <li>Auto-copy new selections to clipboard</li>
      <li>Auto-paste clipboard into selection when it has new image data</li>
    </ul>

    <h3 id="animationarea">AnimationArea</h3>

    <p><img src="/TgaBuilder/Screenshots/Animation.png" alt="Animation Area" /></p>
    <ul>
      <li>Set animation speed</li>
      <li>Start / stop animation</li>
      <li>Close animation preview</li>
    </ul>

    <h3 id="import-tab-source-panel">Import Tab (Source Panel)</h3>

    <p><img src="/TgaBuilder/Screenshots/TabImport.png" alt="Import Tab" /></p>

    <p>From left to rigth:</p>
    <ul>
      <li>Import atlas from Classic TR levels<br />
        <em>Supports:</em> <strong>TR1–TRC, TRLE, TRNG, partially TEN (v1.7+)</strong> (<code
          class="language-plaintext highlighter-rouge">Ctrl + Q</code>)
      </li>
      <li>Enable remapping for imports (removes padding in TE-built atlases)
        <img src="/TgaBuilder/Screenshots/Repacking.png" alt="Repacking" />
      </li>
      <li>Set horizontal page count (1, 2, 4, 8, 16 pages)
        <img src="/TgaBuilder/Screenshots/PageSizeImport.png" alt="PageSizeImport" />
      </li>
      <li>Open Batch Loader (<code class="language-plaintext highlighter-rouge">Ctrl + W</code>)</li>
    </ul>

    <p>Please use Imports carefully and conscientiously when building own custom levels.
      Specifically, clarify with the creator whether you are authorised to use custom assets.
      If in doubt, use assets that are guaranteed to be acceptable for use in your own custom levels instead.
      Please also note that this tool is licensed under the MIT licence.</p>

    <h3 id="batch-file-loader">Batch File Loader</h3>

    <p><img src="/TgaBuilder/Screenshots/BatchLoader.png" alt="Batch Loader" /></p>
    <ul>
      <li>Import multiple image files from folder<br />
        <em>Supported formats:</em> <strong>TGA, DDS, PNG, BMP, JPG, JPEG</strong>
      </li>
      <li>Select or reopen folder
        <ul>
          <li>… or simply <strong>drop</strong> a set of supported image files on preview panel.</li>
        </ul>
      </li>
      <li>Set Range:
        <ul>
          <li><strong>First Texture Index</strong></li>
          <li><strong>Number of Textures</strong></li>
        </ul>
      </li>
      <li>Define square resize size for textures</li>
    </ul>

    <h3 id="grid-tab-source-panel">Grid Tab (Source Panel)</h3>

    <p><img src="/TgaBuilder/Screenshots/TabGrid.png" alt="Grid Tab" /></p>

    <p>From left to rigth:</p>
    <ul>
      <li>Toggle grid on/off</li>
      <li>Change layout</li>
      <li>Set picker size: <strong>8, 16, 32, 64, 128, 256 px</strong></li>
    </ul>

    <h3 id="offset-tab-source-panel">Offset Tab (Source Panel)</h3>

    <p><img src="/TgaBuilder/Screenshots/TabOffset.png" alt="Offset Tab" /></p>

    <p>From left to rigth:</p>
    <ul>
      <li>Set <strong>X offset</strong></li>
      <li>Set <strong>Y offset</strong></li>
      <li>Reset offset</li>
    </ul>

    <h3 id="alpha-tab-source-panel">Alpha Tab (Source Panel)</h3>

    <p><img src="/TgaBuilder/Screenshots/TabAlpha.png" alt="Alpha Tab" /></p>

    <p>From left to rigth:</p>
    <ul>
      <li>Restore original image</li>
      <li>Replace selected color with <strong>magenta</strong></li>
      <li>Use eyedropper to set color to replace</li>
      <li>Auto-apply magenta replacement for new selections</li>
    </ul>

    <h3 id="view-tab-source-and-destination-panel">View Tab (Source and Destination Panel)</h3>

    <p><img src="/TgaBuilder/Screenshots/TabView.png" alt="View Tab" /></p>

    <p>From left to rigth:</p>
    <ul>
      <li>Fit panel <strong>width</strong> to viewport</li>
      <li>Fit panel <strong>height</strong> to viewport</li>
      <li>Set zoom to <strong>100%</strong></li>
    </ul>

    <h3 id="placing-tab-destination-panel">Placing Tab (Destination Panel)</h3>

    <p>From left to rigth:</p>

    <p><img src="/TgaBuilder/Screenshots/TabPlacing.png" alt="Placing Tab" /></p>

    <p>From left to rigth:</p>
    <ul>
      <li>Set target picker size: <strong>8, 16, 32, 64, 128, 256 px</strong></li>
      <li>Enable transparent overlay (do not draw magenta/alpha 0 to destination)
        <img src="/TgaBuilder/Screenshots/OverlayTransparent.png" alt="TransparentOverlay" />
      </li>
      <li>Enable <strong>Swap and Place</strong> mode (put replaced tile into selection)</li>
      <li>Enable <strong>Resize to Picker</strong> mode (resize selection to destination picker size)</li>
    </ul>

    <h3 id="size-tab-destination-panel">Size Tab (Destination Panel)</h3>

    <p>From left to rigth:</p>

    <p><img src="/TgaBuilder/Screenshots/TabSize.png" alt="Size Tab" /></p>
    <ul>
      <li>Set destination panel <strong>height</strong> (in pages, max 128 pages)</li>
      <li>Set destination panel <strong>width</strong> (in pages, possible values 1, 2, 4, 8 or 16 pages)</li>
      <li>Enable texture <strong>rearranging during width changes</strong>
        <img src="/TgaBuilder/Screenshots/ResizeSorted.png" alt="TextureRearanging" />
      </li>
    </ul>

    <h3 id="mode-tab-destination-panel">Mode Tab (Destination Panel)</h3>

    <p>Same functions as in TBuilder.
      From left to rigth:</p>

    <p><img src="/TgaBuilder/Screenshots/TabMode.png" alt="Mode Tab" /></p>
    <ul>
      <li>Standard tile placing</li>
      <li>Rotate tile</li>
      <li>Mirror tile <strong>horizontally</strong></li>
      <li>Mirror tile <strong>vertically</strong></li>
      <li><strong>Tile Rally mode</strong>: move one tile and shift all tiles inbetween</li>
      <li><strong>Swap Tile mode</strong>: swap two tiles</li>
    </ul>

    <h3 id="format-tab-destination-panel">Format Tab (Destination Panel)</h3>

    <p>This tab allows you to modify the format of the destination texture panel. TgaBuilder now fully supports the
      opening, modification and writing of both <strong>24-bit</strong> and <strong>32-bit</strong> pixel formats.</p>

    <p><img src="/TgaBuilder/Screenshots/TabFormat.png" alt="Format Tab" /></p>

    <p>The tab setting will be set automatically depending on the input after loading. You can then set it manually if
      you wish. If you select <strong>RGB 24 BPP</strong>, magenta will be used for transparent parts. If you select
      <strong>BGRA 32 BPP</strong>, you will have a real alpha channel. Switching between the two settings will set the
      pixel values appropriately (e.g. alpha = 0 areas will be converted to magenta areas, and so on).
    </p>

    <p><img src="/TgaBuilder/Screenshots/Format.png" alt="Format" /></p>

    <p>Switching from <strong>BGRA 32 BPP</strong> to <strong>RGB 24 BPP</strong> will set the magenta colour correctly,
      but since pixels with an alpha value other than <strong>0</strong> or <strong>255</strong> are not supported by
      <strong>RGB 24 BPP</strong>, information will be lost, possibly making the switching step irreversible.
    </p>


    <h3 id="keyboard-shortcuts">Keyboard Shortcuts</h3>
    <table>
      <thead>
        <tr>
          <th>Key Combination</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Ctrl + A</td>
          <td>Create a new texture panel</td>
        </tr>
        <tr>
          <td>Ctrl + C</td>
          <td>Copy selection to clipboard</td>
        </tr>
        <tr>
          <td>Ctrl + V</td>
          <td>Paste from clipboard to selection</td>
        </tr>
        <tr>
          <td>Ctrl + Z</td>
          <td>Undo</td>
        </tr>
        <tr>
          <td>Ctrl + Y</td>
          <td>Redo</td>
        </tr>
        <tr>
          <td>Ctrl + S</td>
          <td>Save destination texture panel</td>
        </tr>
        <tr>
          <td>Ctrl + Shift + S</td>
          <td>Save destination texture panel to new / other file</td>
        </tr>
        <tr>
          <td>Ctrl + E</td>
          <td>Open source texture panel</td>
        </tr>
        <tr>
          <td>Ctrl + D</td>
          <td>Open destination texture panel</td>
        </tr>
        <tr>
          <td>Ctrl + Q</td>
          <td>Import from TR Level</td>
        </tr>
        <tr>
          <td>Ctrl + W</td>
          <td>Open batch loader</td>
        </tr>
      </tbody>
    </table>

    <h2 id="limitations">Limitations</h2>

    <ul>
      <li>The height of any bitmap/texture panel handled by this tool is currently capped at <strong>32,768 px</strong>
        or <strong>128 pages</strong> (~256 px length per page). This limitation is required to avoid issues with the
        .NET WPF Bitmap containers.</li>
      <li>The height is always a <strong>multiple of 256 px</strong>, the standard TR page width, to ensure divisibility
        by picker sizes.</li>
      <li>Current supported destination texture panel widths: <strong>256, 512, 1024, 2048, 4096 px</strong>
        (corresponding to 1, 2, 4, 8, and 16 pages).</li>
      <li>Current supported picker sizes: <strong>8, 16, 32, 64, 128, 256 px</strong></li>
      <li>Image files that do not meet these requirements will be <strong>automatically expanded or cropped</strong>.
      </li>
    </ul>

    <h2 id="license">License</h2>
    <p>This project is licensed under the MIT License.</p>

    <h3 id="third-party-libraries">Third-Party Libraries</h3>

    <p>For WPFZoomPanel I did some custom modifications and adapted it to .net 8. This modified project is included in
      this reporsitory as well.</p>

    <table>
      <thead>
        <tr>
          <th>Package</th>
          <th>Version</th>
          <th>Source</th>
          <th>License</th>
          <th>Project URL</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>WPFZoomPanel</td>
          <td>-</td>
          <td>GitHub</td>
          <td>MIT</td>
          <td><a href="https://github.com/Moravuscz/WPFZoomPanel">GitHub</a></td>
        </tr>
        <tr>
          <td>Pfim</td>
          <td>0.11.3</td>
          <td>NuGet</td>
          <td>MIT</td>
          <td><a href="https://github.com/nickbabcock/Pfim">GitHub</a></td>
        </tr>
        <tr>
          <td>bzPSD</td>
          <td>0.1.0</td>
          <td>NuGet</td>
          <td>BSD-3-Clause license</td>
          <td><a href="https://github.com/DsonKing/System.Drawing.PSD">GitHub</a></td>
        </tr>
        <tr>
          <td>WPF UI</td>
          <td>4.0.3</td>
          <td>NuGet</td>
          <td>MIT</td>
          <td><a href="https://github.com/lepoco/wpfui">GitHub</a></td>
        </tr>
        <tr>
          <td>Microsoft Dependency Injection</td>
          <td>9.0.6</td>
          <td>NuGet</td>
          <td>MIT</td>
          <td><a href="https://dotnet.microsoft.com/en-us/">Microsoft</a></td>
        </tr>
        <tr>
          <td>SharpZipLib</td>
          <td>1.4.2</td>
          <td>NuGet</td>
          <td>MIT</td>
          <td><a href="https://github.com/icsharpcode/SharpZipLib">GitHub</a></td>
        </tr>
      </tbody>
    </table>

    <PackageReference Include="SharpZipLib" Version="1.4.2" />

    <p>I would like to express my gratitude to the <a href="https://github.com/MontyTRC89/Tomb-Editor">TombEditor</a>
      team and the authors of <a href="http://xproger.info/projects/OpenLara/trs.html">TRosettaStone</a>. Their
      imppressive public contributions immensely helped me understanding the TR level file format.</p>

    <h2 id="contributing">Contributing</h2>
    <p>Contributions are welcome! If you find a bug or have a feature request, please open an <a
        href="https://github.com/JohnnyJF10/TgaBuilder/issues">issue</a>.<br />
      If you want to contribute code, feel free to fork the repository and create a pull request.</p>

    <h2 id="support">Support</h2>
    <p>If you have any issues, please open a <a href="https://github.com/JohnnyJF10/TgaBuilder/issues">GitHub Issue</a>.
    </p>

    <h2 id="to-do-list">To Do List</h2>
    <ul>
      <li>Optimize the memory management during Classic TR level Import</li>
      <li>Support <strong>32 bpp pixel formates</strong> for the destination panel as well</li>
      <li>Fix bugs</li>
      <li>Migrate from WPF to Win UI 3 or Avalonia</li>
    </ul>



    <div class="footer border-top border-gray-light mt-5 pt-3 text-right text-gray">
      This site is open source. <a href="https://github.com/JohnnyJF10/TgaBuilder/edit/master/README.md">Improve this
        page</a>.
    </div>

  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"
    integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
  <script>anchors.add();</script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const content = document.getElementById("main-content");
      const headings = content.querySelectorAll("h2, h3");
      const toc = document.getElementById("toc");
      const mobileMenu = document.getElementById("mobile-menu");
      const menuToggle = document.getElementById("menu-toggle");

      // Generate TOC and mobile menu
      headings.forEach((heading, index) => {
        if (!heading.id) {
          heading.id = heading.textContent.trim().toLowerCase().replace(/\s+/g, "-").replace(/[^\w\-]/g, "") + "-" + index;
        }

        // ===== Desktop Sidebar =====
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = "#" + heading.id;
        a.textContent = heading.textContent;
        if (heading.tagName === "H3") {
          li.style.marginLeft = "10px";
        }
        li.appendChild(a);
        toc.appendChild(li);

        // ===== Mobile Menu =====
        const mobileLink = document.createElement("a");
        mobileLink.href = "#" + heading.id;
        mobileLink.textContent = heading.textContent;
        mobileLink.style.paddingLeft = heading.tagName === "H3" ? "15px" : "0px";
        mobileMenu.appendChild(mobileLink);
      });

      // Toggle mobile menu
      menuToggle.addEventListener("click", function (event) {
        mobileMenu.classList.toggle("hidden");
      });

      // Close mobile menu when clicking on a link
      mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
        });
      });

      // Close mobile menu when clicking outside of it
      document.addEventListener('click', function (event) {
        const isClickInsideMenu = mobileMenu.contains(event.target);
        const isClickOnToggle = menuToggle.contains(event.target);

        if (!mobileMenu.classList.contains('hidden') && !isClickInsideMenu && !isClickOnToggle) {
          mobileMenu.classList.add('hidden');
        }
      });
    });
  </script>
</body>

</html>